# 📚 网上书店管理系统 需求分析报告

## 📌 实验目标与总体要求

### 实验要求
* 根据实验十八所设计的数据库，利用实验学习到的数据库应用开发技术，基于 ODBC 或 JDBC 的数据库应用开发方法，设计并实现网上书店管理系统。
* 系统必须根据所有必选的功能和数据需求，基本实现相关功能，界面需美观、操作简便。

### 系统概述
* 设计一个小型数据库应用系统，服务于网上书店的日常处理业务及网上购书业务。
* 业务包括：供书目录、库存管理、采购管理、客户管理、顾客订单管理、发货管理、供应商管理及网上浏览等。

### 总体设计要求
* **书店内部日常处理业务**：通过 **C/S 模式**来实现。
* **顾客网上业务**：顾客可通过 **Internet** 进行网上订书及查询浏览。
* **性能要求**：为改善性能，应尽量将业务规则放在中间层或数据库服务器一端。

---

## 💻 系统主要功能（必选与可选）

### 1. 供书目录及库存管理
* 这是书店的主要日常业务。
* **功能**：应包括建立和更新供书目录，新书入库功能等。
* **需记录的书籍信息**：
    * 书号
    * 书名
    * 作者（最多可包括四个作者，有序）
    * 出版社
    * 价格
    * 关键字（最多 10 个）
    * 存货量
* **可选信息/功能**：
    * 本书的目录
    * 封皮
    * 供书商（一本书可有多个供应商）
    * 需考虑丛书的问题（即一个书号包含多本书）
    * 库存存放位置（可采用示意图表示）

### 2. 采购管理
* 这是书店的主要日常业务之一。
* **内容**：包括缺书登记管理及采购单管理。

#### 缺书登记生成
1.  **直接登记**：包括书号、书名、出版社、供书商、数量、登记日期。
2.  **自动生成**（可选）：存书量低于一定限度时，自动生成缺书记录（注：不能有重复），最低存书量可设定。
3.  **顾客需求生成**（可选）：顾客在网上进行缺书登记或订货数量超出库存时，生成缺书记录（注：不能有重复），必要时，应记录下顾客的缺书请求，以便答复。

#### 采购单管理
* 根据缺书记录单可选择生成采购单。
* **到货处理**：到货时对采购单作相应处理，并增加库存量，删除缺书记录。
* **通知**（可选）：EMAIL 通知缺书登记的顾客。

### 3. 客户管理
* **内容**：包括客户信息管理及信用管理。

#### 需记录的客户信息
* 网上 ID
* 登录密码
* 名称
* 地址
* 帐户余额
* 信用等级

#### 客户信息维护
* **书店管理**：收到客户的款项后，增加客户的帐户余额；调整信用额度。
* **客户网上维护**：客户在网上维护其他信息，如注册一个新的用户，修改用户信息等。

#### 信用等级管理
* **信用等级**：分为五级。
| 级别 | 折扣 | 透支/发货政策 | 限制 |
| :--- | :--- | :--- | :--- |
| **一级** | 10% | 不能透支 | - |
| **二级** | 15% | 不能透支 | - |
| **三级** | 15% | 可先发书再付款 | 透支有额度限制 |
| **四级** | 20% | 可先发书再付款 | 透支有额度限制 |
| **五级** | 25% | 可先发书再付款 | 透支无额度限制 |
* **等级调整形式**：
    1.  书店进行管理。
    2.  自动进行管理（可选）：每月月初根据该帐户的余额或累计购书总金额进行调整，如帐户余额超过一定金额，提升其信用额度，或累计购书总金额超过一定金额提升其信用额度。

### 4. 顾客订单管理和发货管理

#### 顾客订单
* **信息**：订单号，订货日期，客户 ID，书号，订书数量，金额，发货地址，发货情况等。
* **生成**：订单由顾客在网上申请生成。
* **限制**：仅能对书库中已有的书目进行订购。
* **可选功能**：
    * 一个订单可订多本书。
    * 库存量不足时可以先订货。
    * 当客户查询的书目在书库中没有找到时，将会询问客户是否希望做进一步的询价及报价。

#### 发货管理
* 这是书店日常业务管理之一。
* **发货条件**：必须根据订单情况及客户的信用等级判断其付款额是否到帐，并相应扣减其帐户余额后，才能发货。
* **可选功能**：对一个订单可分次发货。

### 5. 供应商管理
* **信息**：包括供应商基本信息，供应商供货信息。
* **功能**：不同的供应商发布自己现有书目信息。

### 6. 网上浏览查询
* 可查询以下两类信息：

1.  **客户相关信息**：
    * 客户基本信息
    * 客户历史订单信息
    * 相关订单的发货信息等

2.  **书目信息**：
    * 可按照书号、书名、出版社进行查询。
    * 可选查询方式：
        * 按照关键字进行查询（可指定匹配程度）。
        * 按照作者（按第一、第二……作者查询）。
        * 可进行模糊查询。

---

## 💾 数据库设计要求

* **内容**：必须根据所有必选的功能和数据需求，根据实验十八所设计的数据库，设计实现**完整**的数据库。
* **包含组件**：包括各种表、视图、必要的存储过程、触发器等。